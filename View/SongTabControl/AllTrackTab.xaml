<UserControl x:Class="test.SongTabControl.AllTrackTab"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid>

        <Popup x:Name="PopupPlaylist" IsOpen="{Binding PopupIsOpen}" Placement="Right" Height="200" Width="200" Grid.Row="0" Grid.ColumnSpan="2">
            <Border Background="Transparent">
                <Grid>

                    <Grid.RowDefinitions>
                        <RowDefinition Height="2*" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>


                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center">

                        <Button Content="добавить" Command="{Binding AddToPlaylist}" CommandParameter="{Binding}" Background="Gray" FontSize="15"  Foreground="White"/>

                        <Button Content="Отмена" Background="Gray" Command="{Binding СancelPopup}" CommandParameter="{Binding}" FontSize="15" Foreground="White" />

                    </StackPanel>



                    <ListView BorderThickness="0" Grid.Row="0" SelectedItem="{Binding SelectedPlayList, Mode=TwoWay}" x:Name="PlayListVieaw1" Background="Black" ItemsSource="{Binding Collections.PlayLists}">
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="Transparent" BorderThickness="0,0,0,1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="1" Text="{Binding Name}" FontWeight="Bold" FontSize="16"
                                            HorizontalAlignment="Left" VerticalAlignment="Center" Foreground="White"
                                            Margin="10,0"/>


                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </Grid>
            </Border>
        </Popup>




        <ListView BorderThickness="0" IsEnabled="True" x:Name="TracksListView2" Grid.Row="1" Margin="0,41,0,83" ItemsSource="{Binding Tracks}"
ScrollViewer.HorizontalScrollBarVisibility="Disabled" SelectedItem="{Binding SelectedTrack, Mode=TwoWay}"
SelectionMode="Single"
ScrollViewer.VerticalScrollBarVisibility="Hidden" ScrollViewer.CanContentScroll="False"
Background="Transparent" Grid.ColumnSpan="2" Grid.RowSpan="3">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Border BorderBrush="Transparent" BorderThickness="0,0,0,1" Padding="10">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <!-- изображение сука какие же неудобные комментарии -->
                                <ColumnDefinition Width="Auto"/>
                                <!-- автор и название -->
                                <ColumnDefinition Width="Auto"/>
                                <!-- дуратион -->
                                <ColumnDefinition Width="*"/>
                                <!-- кнокпи эти самые -->
                            </Grid.ColumnDefinitions>


                            <Image Source="{Binding ImageData}" Width="50" Height="50" Margin="10,0,10,0"/>


                            <StackPanel Grid.Column="1">
                                <TextBlock Text="{Binding Name}" FontWeight="Bold" FontSize="16" HorizontalAlignment="Left"/>
                                <TextBlock Text="{Binding Artist}" Foreground="#555" FontSize="14"/>
                            </StackPanel>

                            <TextBlock Grid.Column="2" Text="{Binding Duration}" Margin="10 18 10 10" VerticalAlignment="Center" FontSize="14"/>

                            <StackPanel Grid.Column="3" HorizontalAlignment="Right" Orientation="Horizontal">
                                <Button x:Name="add" Content="+" HorizontalAlignment="Right" VerticalAlignment="Stretch" 
                      Background="Black" Height="25" Width="25" Foreground="White" Margin="0 0 0 0" 
                      HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Padding="0"/>
                                <Button x:Name="Dell" Content="удалить" Width="100" Height="25" 
                      HorizontalAlignment="Right" Foreground="White" Margin="10 0 0 0" Background="Black"  Command="{Binding DataContext.DellSong, RelativeSource={RelativeSource AncestorType=UserControl}}" 
        CommandParameter="{Binding}"
                      HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Padding="0"/>
                                <Button x:Name="add_Play" Command="{Binding DataContext.OpenPopup, RelativeSource={RelativeSource AncestorType=UserControl}}" 
        CommandParameter="{Binding}"  Content="в плейлист" Width="100" Height="25" 
                      Margin="10 0 30 0" HorizontalAlignment="Right" Background="Black"  
                      HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Padding="0" Foreground="White"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                </DataTemplate>
            </ListView.ItemTemplate>
            <ListView.ItemContainerStyle>
                <Style TargetType="{x:Type ListViewItem}">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>

                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="{x:Type ListViewItem}">
                                <Border x:Name="Bd" BorderBrush="Transparent" BorderThickness="0" Background="Transparent" 
                      Padding="{TemplateBinding Padding}" SnapsToDevicePixels="true">
                                    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                                    VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                    SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" TargetName="Bd" Value="Transparent"/>
                                    </Trigger>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter Property="Background" TargetName="Bd" Value="Transparent"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </ListView.ItemContainerStyle>
        </ListView>

    </Grid>
</UserControl>
