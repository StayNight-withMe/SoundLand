<UserControl x:Class="test.SongTabControl.TrackOfPlayList"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	         xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
		>
      

    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Grid Grid.RowSpan="2" 
      Background="Transparent" 
      HorizontalAlignment="Stretch" 
      VerticalAlignment="Stretch">

            <Grid.RowDefinitions>
                <!-- Обложка альбома -->
                <RowDefinition Height="*" />
                <!-- Прогресс-бар + тайминги -->
                <RowDefinition Height="Auto" />
                <!-- Кнопки управления -->
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>


            


            <Border Grid.Row="0"
            Width="300"
            Height="300"
            CornerRadius="10"
            Background="Gray"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            BorderBrush="White"
            BorderThickness="2">
                <Image x:Name="AlbumCoverImage"
               Source="{Binding AlbumCoverPath}"
               Width="290"
               Height="290"
               Stretch="UniformToFill"
               Margin="5"
               Opacity="0.9" />
            </Border>

            <!-- ✅ 2. Прогресс-бар и тайминги (всё в одной строке) -->
            <Grid Grid.Row="1" 
          Margin="20,10,20,10"
          HorizontalAlignment="Stretch">

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!-- Текущее время -->
                <TextBlock Grid.Column="0"
                   Text="{Binding CurrentTime, StringFormat='{}{0:mm\\:ss}'}"
                   Foreground="White"
                   FontSize="14"
                   Margin="0,0,10,0" />

                <!-- Прогресс-бар — ВСЯ ШИРИНА, кликабельный -->
                <Slider x:Name="ProgressSlider"
                Grid.Column="1"
                Minimum="0"
                Maximum="100"
                Value="{Binding ProgressValue, Mode=TwoWay}"
                Background="DarkGray"                           
                        Foreground="White"
                    Height="6"
                Margin="10,0"
                 />

                    <!-- Общая длительность -->
                    <TextBlock Grid.Column="2"
                   Text="{Binding TotalTime, StringFormat='{}{0:mm\\:ss}'}"
                   Foreground="White"
                   FontSize="14"
                   Margin="10,0,0,0" />
            </Grid>

            <!-- ✅ 3. Кнопки управления — центрированные, круглые, большие -->
            <StackPanel Grid.Row="2"
                Orientation="Horizontal"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Margin="0,10,0,20"
                >

                <!-- Повтор -->
                <Button x:Name="PlayMode" 
                Content="🔁" 
                Style="{StaticResource ButtonStyle}" 
                Width="50" 
                Height="50" 
                 />

                <!-- Назад -->
                <Button x:Name="Back" 
                Content="⏮" 
                Style="{StaticResource ButtonStyle}" 
                Width="50" 
                Height="50" 
                 />

                <!-- Пауза/Играть -->
                <Button x:Name="PlayPouse" 
                Content="Play" 
                Style="{StaticResource ButtonStyle}" 
                Width="70" 
                Height="70" 
                
                FontSize="24" />

                <!-- Вперед -->
                <Button x:Name="Next" 
                Content="⏭" 
                Style="{StaticResource ButtonStyle}" 
                Width="50" 
                Height="50" 
                 />

                <!-- Громкость -->
                <Button x:Name="Volume" 
                Content="🔊" 
                Style="{StaticResource ButtonStyle}" 
                Width="50" 
                Height="50" 
                />

            </StackPanel>

        </Grid>

        <ListView x:Name="TracksListView1" Visibility="Visible" Panel.ZIndex="0" BorderThickness="0"  Margin="0,41,0, 83" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ItemsSource="{Binding Tracks}" 
  ScrollViewer.HorizontalScrollBarVisibility="Disabled"  Grid.Column="1" Grid.RowSpan="2"
  ScrollViewer.VerticalScrollBarVisibility="Hidden" ScrollViewer.CanContentScroll="False"
  Background="Transparent" SelectedItem="{Binding SelectedTrack, Mode=TwoWay}"  >
            <ListView.ItemTemplate>
                
                
                
                <DataTemplate>
                    <Border BorderBrush="Transparent" BorderThickness="0,0,0,1" Padding="10">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <!-- изображение сука какие же неудобные комментарии -->
                                <ColumnDefinition Width="Auto"/>
                                <!-- автор и название -->
                                <ColumnDefinition Width="Auto"/>
                                <!-- дуратион -->
                                <ColumnDefinition Width="*"/>
                                <!-- кнокпи эти самые -->
                            </Grid.ColumnDefinitions>





                            <Image Source="{Binding ImageData}" Width="50" Height="50" Margin="10,0,10,0"/>
                            <StackPanel Grid.Column="1">
                                <TextBlock Text="{Binding Name}" FontWeight="Bold" FontSize="16" HorizontalAlignment="Left"/>
                                <TextBlock Text="{Binding Artist}" Foreground="#555" FontSize="14"/>
                            </StackPanel>
                            <TextBlock Grid.Column="2" Text="{Binding Duration}" Margin="10 18 10 10" VerticalAlignment="Center" FontSize="14"/>
                            <StackPanel Grid.Column="3" HorizontalAlignment="Right" Orientation="Horizontal">
                                <Button x:Name="add" Content="+" HorizontalAlignment="Right" VerticalAlignment="Stretch" 
                        Background="Black" Height="25" Width="25" Margin="0 0 0 0"  Padding="0" Foreground="White" />
                                <Button x:Name="Dell" Content="удалить" Width="100" Height="25" 
                                HorizontalAlignment="Right" Foreground="White" Margin="10 0 0 0" Background="Black"  
                                HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Padding="0"/>
                                <Button x:Name="AddPlay" Content="в плейлист" Width="100" Height="25" 
Margin="10 0 30 0" Background="Black" Foreground="White" 
 Padding="0">





                                </Button>

                            </StackPanel>



                        </Grid>
                    </Border>
                </DataTemplate>
            </ListView.ItemTemplate>
            <ListView.ItemContainerStyle>
                <Style TargetType="{x:Type ListViewItem}">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>




                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="{x:Type ListViewItem}">
                                <Border
                                    x:Name="Bd" BorderBrush="Transparent" BorderThickness="0" Background="Transparent" 
                        Padding="{TemplateBinding Padding}" SnapsToDevicePixels="true">
                                    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                      SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" TargetName="Bd" Value="Transparent"/>
                                    </Trigger>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter Property="Background" TargetName="Bd" Value="Transparent"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
                
                
                
                
            </ListView.ItemContainerStyle>

            <ListView.Template>
                <ControlTemplate TargetType="{x:Type ListView}">
                    <Border BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    Background="{TemplateBinding Background}"
                    Padding="{TemplateBinding Padding}"
                    SnapsToDevicePixels="true">
                        <ScrollViewer x:Name="ScrollViewer"
                              BorderBrush="Transparent"
                              BorderThickness="0"
                              Background="Transparent" 
                            Focusable="false"
                              Padding="{TemplateBinding Padding}">
                            <ItemsPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                        </ScrollViewer>
                    </Border>
                </ControlTemplate>
            </ListView.Template>

        </ListView>

        
        
        
        
    </Grid>
</UserControl>
