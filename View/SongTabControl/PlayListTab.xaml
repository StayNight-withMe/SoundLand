<UserControl x:Class="test.SongTabControl.PlayListTab"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	         
		>
    <UserControl.Resources>

    </UserControl.Resources>



    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="49.086"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <Grid.RowDefinitions>
            <RowDefinition Height="0.1*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Button x:Name="NewPlayList" BorderThickness="0" Content="создать плейлист" Grid.Row="0" Background="Transparent" Opacity="0.9" Foreground="Black"
                                        FontSize="35"  Grid.ColumnSpan="2" Margin="0,0,0,750" Grid.RowSpan="2" 
               Command="{Binding openPopup}" 
                />







        <Popup Name="myPopup" IsOpen="{Binding PopupIsOpen}" Placement="Center" Grid.ColumnSpan="2" Margin="0,0,0,686" Grid.RowSpan="2">
            <Border BorderThickness="1"  HorizontalAlignment="Center" VerticalAlignment="Center">

                <StackPanel>
                    <TextBox Width="200" Height="50" 
                                 Background="Black" 
                                 Foreground="White" 
                                 Text="{Binding PopupTextBox}"/>

                    <Button Width="200" Height="50" 
                                Content="Создать плейлист" 
                                Background="Black" 
                                Foreground="White"
                                Command="{Binding newPlayList}"/>
                    

                    <Button Width="200" Height="50" 
                                Content="Отменить" 
                                Background="Black" 
                                Foreground="White"
                                Command="{Binding cansel}"/>


                </StackPanel>

            </Border>
        </Popup>


        <ListView x:Name="TracksListView1" Visibility="Collapsed" BorderThickness="0" Grid.Row="1" Margin="0,41,0,83" ItemsSource="{Binding PlayListsTrack}"
  ScrollViewer.HorizontalScrollBarVisibility="Disabled" 
  ScrollViewer.VerticalScrollBarVisibility="Hidden" ScrollViewer.CanContentScroll="False"
  Background="Transparent" Grid.ColumnSpan="2" Grid.RowSpan="3">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Border BorderBrush="Transparent" BorderThickness="0,0,0,1" Padding="10">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <!-- изображение сука какие же неудобные комментарии -->
                                <ColumnDefinition Width="Auto"/>
                                <!-- автор и название -->
                                <ColumnDefinition Width="Auto"/>
                                <!-- дуратион -->
                                <ColumnDefinition Width="*"/>
                                <!-- кнокпи эти самые -->
                            </Grid.ColumnDefinitions>





                            <Image Source="{Binding ImageData}" Width="50" Height="50" Margin="10,0,10,0"/>
                            <StackPanel Grid.Column="1">
                                <TextBlock Text="{Binding Name}" FontWeight="Bold" FontSize="16" HorizontalAlignment="Left"/>
                                <TextBlock Text="{Binding Artist}" Foreground="#555" FontSize="14"/>
                            </StackPanel>
                            <TextBlock Grid.Column="2" Text="{Binding Duration}" Margin="10 18 10 10" VerticalAlignment="Center" FontSize="14"/>
                            <StackPanel Grid.Column="3" HorizontalAlignment="Right" Orientation="Horizontal">
                                <Button x:Name="add" Content="+" HorizontalAlignment="Right" VerticalAlignment="Stretch" 
                        Background="Black" Height="25" Width="25" Margin="0 0 0 0"  Padding="0" Foreground="White" />
                                <Button x:Name="Dell" Content="удалить" Width="100" Height="25" 
                                HorizontalAlignment="Right" Foreground="White" Margin="10 0 0 0" Background="Black"  
                                HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Padding="0"/>
                                <Button x:Name="AddPlay" Content="в плейлист" Width="100" Height="25" 
Margin="10 0 30 0" Background="Black" Foreground="White" 
 Padding="0">





                                </Button>

                            </StackPanel>



                        </Grid>
                    </Border>
                </DataTemplate>
            </ListView.ItemTemplate>
            <ListView.ItemContainerStyle>
                <Style TargetType="{x:Type ListViewItem}">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>




                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="{x:Type ListViewItem}">
                                <Border x:Name="Bd" BorderBrush="Transparent" BorderThickness="0" Background="Transparent" 
                        Padding="{TemplateBinding Padding}" SnapsToDevicePixels="true">
                                    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                      SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" TargetName="Bd" Value="Transparent"/>
                                    </Trigger>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter Property="Background" TargetName="Bd" Value="Transparent"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </ListView.ItemContainerStyle>
        </ListView>


        <ListView BorderThickness="0"  x:Name="PlayListView" Grid.Row="1" Background="Transparent" ItemsSource="{Binding PlayLists}" Grid.ColumnSpan="2">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Border  BorderBrush="Transparent" BorderThickness="0,0,0,1">
                        <Grid>

                            <Grid.ColumnDefinitions>

                                <ColumnDefinition Width="auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="auto"/>
                            </Grid.ColumnDefinitions>

                            <!--<Image Grid.Column="0" Source="{Binding image}" Width="50" Height="50" 
                           HorizontalAlignment="Center" VerticalAlignment="Center" Margin="5,0"/>-->


                            <TextBlock Grid.Column="1" Text="{Binding Name}" FontWeight="Bold" FontSize="16" 
                               HorizontalAlignment="Left" VerticalAlignment="Center" Foreground="Black" 
                               Margin="10,0"/>


                            <Button Grid.Column="2" x:Name="DelPlayList"  Content="Удалить" 
                             Foreground="White" Background="Black" VerticalAlignment="Center" Height="25" Width="80"
                            HorizontalAlignment="Right" Margin="0,0,10,0"  Command="{Binding DataContext.dellPlayList, 
                RelativeSource={RelativeSource AncestorType=ListView}}"
        CommandParameter="{Binding}" />

                        </Grid>
                    </Border>
                </DataTemplate>
            </ListView.ItemTemplate>
            <!-- хуета что бы кнопки с правого края были -->
            <ListView.ItemContainerStyle>
                <Style TargetType="ListViewItem">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                    <Setter Property="Background" Value="Transparent"/>
                    <Setter Property="BorderThickness" Value="0"/>
                </Style>
            </ListView.ItemContainerStyle>

        </ListView>
    </Grid>








</UserControl>